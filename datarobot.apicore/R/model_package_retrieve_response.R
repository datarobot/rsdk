# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title ModelPackageRetrieveResponse
#'
#' @description ModelPackageRetrieveResponse Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field activeDeploymentCount  integer Number of deployments currently using this model package
#'
#' @field buildStatus  character [optional] Model package build status
#'
#' @field capabilities  \link{ModelPackageCapabilities}
#'
#' @field datasets  \link{ModelPackageDatasets}
#'
#' @field id  character ID of the Model package
#'
#' @field importMeta  \link{ModelPackageImportMeta}
#'
#' @field isArchived  character Whether the model package is permanently archived (cannot be used in deployment or replacement)
#'
#' @field isDeprecated  character Whether the model package is deprecated. eg. python2 models are deprecated.
#'
#' @field modelDescription  \link{ModelPackageModelDescription}
#'
#' @field modelExecutionType  character Type of model package. &#x60;dedicated&#x60; (native DataRobot models) and &#x60;custom_inference_model&#x60; (user added inference models) both execute on DataRobot prediction servers, &#x60;external&#x60; do not
#'
#' @field modelId  character ID of the model
#'
#' @field modelKind  \link{ModelPackageModelKind}
#'
#' @field name  character Model package name
#'
#' @field permissions  list( character ) List of action permissions the user making the request has on the model package
#'
#' @field sourceMeta  \link{ModelPackageSourceMeta}
#'
#' @field target  \link{ModelPackageTarget}
#'
#' @field timeseries  \link{ModelPackageTimeseries}
#'
#' @field userProvidedId  character [optional] A user-provided unique ID associated with the given custom inference model.
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
ModelPackageRetrieveResponse <- R6::R6Class(
  "ModelPackageRetrieveResponse",
  lock_objects = FALSE,
  private = list(
    # @description The properties of this object that are required to be set.
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(`activeDeploymentCount` = NULL, `buildStatus` = NULL, `capabilities` = NULL, `datasets` = NULL, `id` = NULL, `importMeta` = NULL, `isArchived` = NULL, `isDeprecated` = NULL, `modelDescription` = NULL, `modelExecutionType` = NULL, `modelId` = NULL, `modelKind` = NULL, `name` = NULL, `permissions` = NULL, `sourceMeta` = NULL, `target` = NULL, `timeseries` = NULL, `userProvidedId` = NULL) {
      if (!is.null(`activeDeploymentCount`)) {
        stopifnot(is.numeric(`activeDeploymentCount`), length(`activeDeploymentCount`) == 1)
      }
      if (!is.null(`capabilities`)) {
        stopifnot(R6::is.R6(`capabilities`))
      }
      if (!is.null(`datasets`)) {
        stopifnot(R6::is.R6(`datasets`))
      }
      if (!is.null(`id`)) {
        stopifnot(is.character(`id`), length(`id`) == 1)
      }
      if (!is.null(`importMeta`)) {
        stopifnot(R6::is.R6(`importMeta`))
      }
      if (!is.null(`isArchived`)) {
        stopifnot(is.logical(`isArchived`), length(`isArchived`) == 1)
      }
      if (!is.null(`isDeprecated`)) {
        stopifnot(is.logical(`isDeprecated`), length(`isDeprecated`) == 1)
      }
      if (!is.null(`modelDescription`)) {
        stopifnot(R6::is.R6(`modelDescription`))
      }
      if (!is.null(`modelExecutionType`)) {
        stopifnot(is.character(`modelExecutionType`), length(`modelExecutionType`) == 1)
      }
      if (!is.null(`modelId`)) {
        stopifnot(is.character(`modelId`), length(`modelId`) == 1)
      }
      if (!is.null(`modelKind`)) {
        stopifnot(R6::is.R6(`modelKind`))
      }
      if (!is.null(`name`)) {
        stopifnot(is.character(`name`), length(`name`) == 1)
      }
      if (!is.null(`permissions`)) {
        stopifnot(is.vector(`permissions`))
      }
      if (!is.null(`sourceMeta`)) {
        stopifnot(R6::is.R6(`sourceMeta`))
      }
      if (!is.null(`target`)) {
        stopifnot(R6::is.R6(`target`))
      }
      if (!is.null(`timeseries`)) {
        stopifnot(R6::is.R6(`timeseries`))
      }
      if (!is.null(`buildStatus`)) {
        stopifnot(is.character(`buildStatus`), length(`buildStatus`) == 1)
      }
      if (!is.null(`userProvidedId`)) {
        stopifnot(is.character(`userProvidedId`), length(`userProvidedId`) == 1)
      }
    }
  ),
  public = list(
    `activeDeploymentCount` = NULL,
    `buildStatus` = NULL,
    `capabilities` = NULL,
    `datasets` = NULL,
    `id` = NULL,
    `importMeta` = NULL,
    `isArchived` = NULL,
    `isDeprecated` = NULL,
    `modelDescription` = NULL,
    `modelExecutionType` = NULL,
    `modelId` = NULL,
    `modelKind` = NULL,
    `name` = NULL,
    `permissions` = NULL,
    `sourceMeta` = NULL,
    `target` = NULL,
    `timeseries` = NULL,
    `userProvidedId` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param activeDeploymentCount Number of deployments currently using this model package
    #' @param buildStatus Model package build status
    #' @param capabilities
    #' @param datasets
    #' @param id ID of the Model package
    #' @param importMeta
    #' @param isArchived Whether the model package is permanently archived (cannot be used in deployment or replacement)
    #' @param isDeprecated Whether the model package is deprecated. eg. python2 models are deprecated.
    #' @param modelDescription
    #' @param modelExecutionType Type of model package. &#x60;dedicated&#x60; (native DataRobot models) and &#x60;custom_inference_model&#x60; (user added inference models) both execute on DataRobot prediction servers, &#x60;external&#x60; do not
    #' @param modelId ID of the model
    #' @param modelKind
    #' @param name Model package name
    #' @param permissions List of action permissions the user making the request has on the model package
    #' @param sourceMeta
    #' @param target
    #' @param timeseries
    #' @param userProvidedId A user-provided unique ID associated with the given custom inference model.
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`activeDeploymentCount` = NULL, `capabilities` = NULL, `datasets` = NULL, `id` = NULL, `importMeta` = NULL, `isArchived` = NULL, `isDeprecated` = NULL, `modelDescription` = NULL, `modelExecutionType` = NULL, `modelId` = NULL, `modelKind` = NULL, `name` = NULL, `permissions` = NULL, `sourceMeta` = NULL, `target` = NULL, `timeseries` = NULL, `buildStatus` = NULL, `userProvidedId` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      if (validateParams) {
        lapply(list(`activeDeploymentCount`, `capabilities`, `datasets`, `id`, `importMeta`, `isArchived`, `isDeprecated`, `modelDescription`, `modelExecutionType`, `modelId`, `modelKind`, `name`, `permissions`, `sourceMeta`, `target`, `timeseries`), function(param) {
          stopifnot("Required param not set." = !is.null(param))
        })
        private$validateProps(activeDeploymentCount, buildStatus, capabilities, datasets, id, importMeta, isArchived, isDeprecated, modelDescription, modelExecutionType, modelId, modelKind, name, permissions, sourceMeta, target, timeseries, userProvidedId)
      }
      self$`activeDeploymentCount` <- `activeDeploymentCount`
      self$`buildStatus` <- `buildStatus`
      self$`capabilities` <- `capabilities`
      self$`datasets` <- `datasets`
      self$`id` <- `id`
      self$`importMeta` <- `importMeta`
      self$`isArchived` <- `isArchived`
      self$`isDeprecated` <- `isDeprecated`
      self$`modelDescription` <- `modelDescription`
      self$`modelExecutionType` <- `modelExecutionType`
      self$`modelId` <- `modelId`
      self$`modelKind` <- `modelKind`
      self$`name` <- `name`
      sapply(`permissions`, function(x) stopifnot(is.character(x)))
      self$`sourceMeta` <- `sourceMeta`
      self$`target` <- `target`
      self$`timeseries` <- `timeseries`
      self$`userProvidedId` <- `userProvidedId`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    #' checking this objects set properties.
    validate = function() {
      do.call(private$validateProps, list(activeDeploymentCount = self$`activeDeploymentCount`, buildStatus = self$`buildStatus`, capabilities = self$`capabilities`, datasets = self$`datasets`, id = self$`id`, importMeta = self$`importMeta`, isArchived = self$`isArchived`, isDeprecated = self$`isDeprecated`, modelDescription = self$`modelDescription`, modelExecutionType = self$`modelExecutionType`, modelId = self$`modelId`, modelKind = self$`modelKind`, name = self$`name`, permissions = self$`permissions`, sourceMeta = self$`sourceMeta`, target = self$`target`, timeseries = self$`timeseries`, userProvidedId = self$`userProvidedId`))
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`activeDeploymentCount`)) {
          sprintf(
            '"activeDeploymentCount":
            %d
                  ',
            self$`activeDeploymentCount`
          )
        },
        if (!is.null(self$`buildStatus`)) {
          sprintf(
            '"buildStatus":
            "%s"
                  ',
            self$`buildStatus`
          )
        },
        if (!is.null(self$`capabilities`)) {
          sprintf(
            '"capabilities":
            %s
      ',
            jsonlite::toJSON(self$`capabilities`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`datasets`)) {
          sprintf(
            '"datasets":
            %s
      ',
            jsonlite::toJSON(self$`datasets`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`id`)) {
          sprintf(
            '"id":
            "%s"
                  ',
            self$`id`
          )
        },
        if (!is.null(self$`importMeta`)) {
          sprintf(
            '"importMeta":
            %s
      ',
            jsonlite::toJSON(self$`importMeta`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`isArchived`)) {
          sprintf(
            '"isArchived":
            %s
                  ',
            tolower(self$`isArchived`)
          )
        },
        if (!is.null(self$`isDeprecated`)) {
          sprintf(
            '"isDeprecated":
            %s
                  ',
            tolower(self$`isDeprecated`)
          )
        },
        if (!is.null(self$`modelDescription`)) {
          sprintf(
            '"modelDescription":
            %s
      ',
            jsonlite::toJSON(self$`modelDescription`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`modelExecutionType`)) {
          sprintf(
            '"modelExecutionType":
            "%s"
                  ',
            self$`modelExecutionType`
          )
        },
        if (!is.null(self$`modelId`)) {
          sprintf(
            '"modelId":
            "%s"
                  ',
            self$`modelId`
          )
        },
        if (!is.null(self$`modelKind`)) {
          sprintf(
            '"modelKind":
            %s
      ',
            jsonlite::toJSON(self$`modelKind`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`name`)) {
          sprintf(
            '"name":
            "%s"
                  ',
            self$`name`
          )
        },
        if (!is.null(self$`permissions`)) {
          sprintf(
            '"permissions":
            [%s]
                  ',
            paste(unlist(lapply(self$`permissions`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`sourceMeta`)) {
          sprintf(
            '"sourceMeta":
            %s
      ',
            jsonlite::toJSON(self$`sourceMeta`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`target`)) {
          sprintf(
            '"target":
            %s
      ',
            jsonlite::toJSON(self$`target`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`timeseries`)) {
          sprintf(
            '"timeseries":
            %s
      ',
            jsonlite::toJSON(self$`timeseries`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`userProvidedId`)) {
          sprintf(
            '"userProvidedId":
            "%s"
                  ',
            self$`userProvidedId`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param ModelPackageRetrieveResponseJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(ModelPackageRetrieveResponseJson, validateParams = FALSE) {
      ModelPackageRetrieveResponseObject <- jsonlite::fromJSON(ModelPackageRetrieveResponseJson)
      self$`activeDeploymentCount` <- ModelPackageRetrieveResponseObject$`activeDeploymentCount`
      self$`buildStatus` <- ModelPackageRetrieveResponseObject$`buildStatus`
      self$`capabilities` <- ModelPackageCapabilities$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$capabilities, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`datasets` <- ModelPackageDatasets$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$datasets, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`id` <- ModelPackageRetrieveResponseObject$`id`
      self$`importMeta` <- ModelPackageImportMeta$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$importMeta, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`isArchived` <- ModelPackageRetrieveResponseObject$`isArchived`
      self$`isDeprecated` <- ModelPackageRetrieveResponseObject$`isDeprecated`
      self$`modelDescription` <- ModelPackageModelDescription$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$modelDescription, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`modelExecutionType` <- ModelPackageRetrieveResponseObject$`modelExecutionType`
      self$`modelId` <- ModelPackageRetrieveResponseObject$`modelId`
      self$`modelKind` <- ModelPackageModelKind$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$modelKind, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`name` <- ModelPackageRetrieveResponseObject$`name`
      self$`permissions` <- ApiClient$new()$deserializeObj(ModelPackageRetrieveResponseObject$`permissions`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`sourceMeta` <- ModelPackageSourceMeta$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$sourceMeta, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`target` <- ModelPackageTarget$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$target, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`timeseries` <- ModelPackageTimeseries$new()$fromJSON(jsonlite::toJSON(ModelPackageRetrieveResponseObject$timeseries, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`userProvidedId` <- ModelPackageRetrieveResponseObject$`userProvidedId`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
