# Copyright 2021 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.28.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title DataQualityWarningsRecord
#'
#' @description DataQualityWarningsRecord Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field hasKiaMissingValuesInForecastWindow  character [optional] If true, known-in-advance features in this dataset have missing values in the forecast window. Absence of the known-in-advance values can negatively impact prediction quality. Only applies for time series projects.
#'
#' @field insufficientRowsForEvaluatingModels  character [optional] If true, the dataset has a target column present indicating it can be used to evaluate model performance but too few rows to be trustworthy in so doing. If false, either it has no target column at all or it has sufficient rows for model evaluation. Only applies for regression, binary classification, multiclass classification projects and time series unsupervised projects.
#'
#' @field singleClassActualValueColumn  character [optional] If true, actual value column has only one class and such insights as ROC curve can not be calculated. Only applies for binary classification projects or unsupervised projects.
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
DataQualityWarningsRecord <- R6::R6Class(
  "DataQualityWarningsRecord",
  lock_objects = FALSE,
  private = list(
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(hasKiaMissingValuesInForecastWindow = NULL, insufficientRowsForEvaluatingModels = NULL, singleClassActualValueColumn = NULL) {
      if (!is.null(`hasKiaMissingValuesInForecastWindow`)) {
        stopifnot(is.logical(`hasKiaMissingValuesInForecastWindow`), length(`hasKiaMissingValuesInForecastWindow`) == 1)
      }
      if (!is.null(`insufficientRowsForEvaluatingModels`)) {
        stopifnot(is.logical(`insufficientRowsForEvaluatingModels`), length(`insufficientRowsForEvaluatingModels`) == 1)
      }
      if (!is.null(`singleClassActualValueColumn`)) {
        stopifnot(is.logical(`singleClassActualValueColumn`), length(`singleClassActualValueColumn`) == 1)
      }
    }
  ),
  public = list(
    `hasKiaMissingValuesInForecastWindow` = NULL,
    `insufficientRowsForEvaluatingModels` = NULL,
    `singleClassActualValueColumn` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param hasKiaMissingValuesInForecastWindow If true, known-in-advance features in this dataset have missing values in the forecast window. Absence of the known-in-advance values can negatively impact prediction quality. Only applies for time series projects.
    #' @param insufficientRowsForEvaluatingModels If true, the dataset has a target column present indicating it can be used to evaluate model performance but too few rows to be trustworthy in so doing. If false, either it has no target column at all or it has sufficient rows for model evaluation. Only applies for regression, binary classification, multiclass classification projects and time series unsupervised projects.
    #' @param singleClassActualValueColumn If true, actual value column has only one class and such insights as ROC curve can not be calculated. Only applies for binary classification projects or unsupervised projects.
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`hasKiaMissingValuesInForecastWindow` = NULL, `insufficientRowsForEvaluatingModels` = NULL, `singleClassActualValueColumn` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      requiredProps <- list()
      if (validateParams) {
        lapply(requiredProps, missing)
        private$validateProps(hasKiaMissingValuesInForecastWindow, insufficientRowsForEvaluatingModels, singleClassActualValueColumn)
      }
      self$`hasKiaMissingValuesInForecastWindow` <- `hasKiaMissingValuesInForecastWindow`
      self$`insufficientRowsForEvaluatingModels` <- `insufficientRowsForEvaluatingModels`
      self$`singleClassActualValueColumn` <- `singleClassActualValueColumn`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    validate = function() {
      props <- list(hasKiaMissingValuesInForecastWindow = self$`hasKiaMissingValuesInForecastWindow`, insufficientRowsForEvaluatingModels = self$`insufficientRowsForEvaluatingModels`, singleClassActualValueColumn = self$`singleClassActualValueColumn`)
      do.call(private$validateProps, props)
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`hasKiaMissingValuesInForecastWindow`)) {
          sprintf(
            '"hasKiaMissingValuesInForecastWindow":
            %s
                  ',
            tolower(self$`hasKiaMissingValuesInForecastWindow`)
          )
        },
        if (!is.null(self$`insufficientRowsForEvaluatingModels`)) {
          sprintf(
            '"insufficientRowsForEvaluatingModels":
            %s
                  ',
            tolower(self$`insufficientRowsForEvaluatingModels`)
          )
        },
        if (!is.null(self$`singleClassActualValueColumn`)) {
          sprintf(
            '"singleClassActualValueColumn":
            %s
                  ',
            tolower(self$`singleClassActualValueColumn`)
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param DataQualityWarningsRecordJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(DataQualityWarningsRecordJson, validateParams = FALSE) {
      DataQualityWarningsRecordObject <- jsonlite::fromJSON(DataQualityWarningsRecordJson)
      self$`hasKiaMissingValuesInForecastWindow` <- DataQualityWarningsRecordObject$`hasKiaMissingValuesInForecastWindow`
      self$`insufficientRowsForEvaluatingModels` <- DataQualityWarningsRecordObject$`insufficientRowsForEvaluatingModels`
      self$`singleClassActualValueColumn` <- DataQualityWarningsRecordObject$`singleClassActualValueColumn`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
