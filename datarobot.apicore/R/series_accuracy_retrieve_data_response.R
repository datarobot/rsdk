# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title SeriesAccuracyRetrieveDataResponse
#'
#' @description SeriesAccuracyRetrieveDataResponse Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field backtestingScore  numeric The backtesting score for this series. If backtesting has not been run for this model, this score will be null.
#'
#' @field cluster  character [optional] The cluster associated with this series.
#'
#' @field duration  character The duration of this series formatted as an ISO 8601 duration string.
#'
#' @field endDate  character [optional] The ISO-formatted end date of this series.
#'
#' @field holdoutScore  numeric [optional] The holdout set score for this series. If holdout is locked for the project, this score will be null.
#'
#' @field multiseriesId  character A DataRobot-generated ID corresponding to a single series in a multiseries dataset.
#'
#' @field multiseriesValues  list( character ) The actual values of series ID columns from the dataset.
#'
#' @field rowCount  integer The number of rows available for this series in the input dataset.
#'
#' @field startDate  character [optional] The ISO-formatted start date of this series.
#'
#' @field targetAverage  \link{OneOfstringnumber} [optional] For regression projects, this is the average (mean) value of target values for this series.For classification projects, this is the ratio of the positive class in the target for this series.
#'
#' @field validationScore  numeric The validation set score for this series
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
SeriesAccuracyRetrieveDataResponse <- R6::R6Class(
  "SeriesAccuracyRetrieveDataResponse",
  lock_objects = FALSE,
  private = list(
    # @description The properties of this object that are required to be set.
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(`backtestingScore` = NULL, `cluster` = NULL, `duration` = NULL, `endDate` = NULL, `holdoutScore` = NULL, `multiseriesId` = NULL, `multiseriesValues` = NULL, `rowCount` = NULL, `startDate` = NULL, `targetAverage` = NULL, `validationScore` = NULL) {
      if (!is.null(`backtestingScore`)) {
      }
      if (!is.null(`duration`)) {
        stopifnot(is.character(`duration`), length(`duration`) == 1)
      }
      if (!is.null(`multiseriesId`)) {
        stopifnot(is.character(`multiseriesId`), length(`multiseriesId`) == 1)
      }
      if (!is.null(`multiseriesValues`)) {
        stopifnot(is.vector(`multiseriesValues`))
      }
      if (!is.null(`rowCount`)) {
        stopifnot(is.numeric(`rowCount`), length(`rowCount`) == 1)
      }
      if (!is.null(`validationScore`)) {
      }
      if (!is.null(`cluster`)) {
        stopifnot(is.character(`cluster`), length(`cluster`) == 1)
      }
      if (!is.null(`endDate`)) {
        stopifnot(inherits(`endDate`, "POSIXt"))
      }
      if (!is.null(`holdoutScore`)) {
        stopifnot(is.numeric(`holdoutScore`), length(`holdoutScore`) == 1)
      }
      if (!is.null(`startDate`)) {
        stopifnot(inherits(`startDate`, "POSIXt"))
      }
      if (!is.null(`targetAverage`)) {
        .setPrimitiveProperty(typeList = list("character", "numeric"), propertyData = targetAverage)
      }
    }
  ),
  public = list(
    `backtestingScore` = NULL,
    `cluster` = NULL,
    `duration` = NULL,
    `endDate` = NULL,
    `holdoutScore` = NULL,
    `multiseriesId` = NULL,
    `multiseriesValues` = NULL,
    `rowCount` = NULL,
    `startDate` = NULL,
    `targetAverage` = NULL,
    `validationScore` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param backtestingScore The backtesting score for this series. If backtesting has not been run for this model, this score will be null.
    #' @param cluster The cluster associated with this series.
    #' @param duration The duration of this series formatted as an ISO 8601 duration string.
    #' @param endDate The ISO-formatted end date of this series.
    #' @param holdoutScore The holdout set score for this series. If holdout is locked for the project, this score will be null.
    #' @param multiseriesId A DataRobot-generated ID corresponding to a single series in a multiseries dataset.
    #' @param multiseriesValues The actual values of series ID columns from the dataset.
    #' @param rowCount The number of rows available for this series in the input dataset.
    #' @param startDate The ISO-formatted start date of this series.
    #' @param targetAverage For regression projects, this is the average (mean) value of target values for this series.For classification projects, this is the ratio of the positive class in the target for this series.
    #' @param validationScore The validation set score for this series
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`backtestingScore` = NULL, `duration` = NULL, `multiseriesId` = NULL, `multiseriesValues` = NULL, `rowCount` = NULL, `validationScore` = NULL, `cluster` = NULL, `endDate` = NULL, `holdoutScore` = NULL, `startDate` = NULL, `targetAverage` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      if (validateParams) {
        lapply(list(`backtestingScore`, `duration`, `multiseriesId`, `multiseriesValues`, `rowCount`, `validationScore`), function(param) {
          stopifnot("Required param not set." = !is.null(param))
        })
        private$validateProps(backtestingScore, cluster, duration, endDate, holdoutScore, multiseriesId, multiseriesValues, rowCount, startDate, targetAverage, validationScore)
      }
      self$`backtestingScore` <- `backtestingScore`
      self$`cluster` <- `cluster`
      self$`duration` <- `duration`
      self$`endDate` <- `endDate`
      self$`holdoutScore` <- `holdoutScore`
      self$`multiseriesId` <- `multiseriesId`
      sapply(`multiseriesValues`, function(x) stopifnot(is.character(x)))
      self$`rowCount` <- `rowCount`
      self$`startDate` <- `startDate`
      self$`targetAverage` <- .setPrimitiveProperty(typeList = list("character", "numeric"), propertyData = targetAverage)
      self$`validationScore` <- `validationScore`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    #' checking this objects set properties.
    validate = function() {
      do.call(private$validateProps, list(backtestingScore = self$`backtestingScore`, cluster = self$`cluster`, duration = self$`duration`, endDate = self$`endDate`, holdoutScore = self$`holdoutScore`, multiseriesId = self$`multiseriesId`, multiseriesValues = self$`multiseriesValues`, rowCount = self$`rowCount`, startDate = self$`startDate`, targetAverage = self$`targetAverage`, validationScore = self$`validationScore`))
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`backtestingScore`)) {
          sprintf(
            '"backtestingScore":
            %d
                  ',
            self$`backtestingScore`
          )
        },
        if (!is.null(self$`cluster`)) {
          sprintf(
            '"cluster":
            "%s"
                  ',
            self$`cluster`
          )
        },
        if (!is.null(self$`duration`)) {
          sprintf(
            '"duration":
            "%s"
                  ',
            self$`duration`
          )
        },
        if (!is.null(self$`endDate`)) {
          sprintf(
            '"endDate":
            "%s"
                  ',
            format(self$`endDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`holdoutScore`)) {
          sprintf(
            '"holdoutScore":
            %d
                  ',
            self$`holdoutScore`
          )
        },
        if (!is.null(self$`multiseriesId`)) {
          sprintf(
            '"multiseriesId":
            "%s"
                  ',
            self$`multiseriesId`
          )
        },
        if (!is.null(self$`multiseriesValues`)) {
          sprintf(
            '"multiseriesValues":
            [%s]
                  ',
            paste(unlist(lapply(self$`multiseriesValues`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`rowCount`)) {
          sprintf(
            '"rowCount":
            %d
                  ',
            self$`rowCount`
          )
        },
        if (!is.null(self$`startDate`)) {
          sprintf(
            '"startDate":
            "%s"
                  ',
            format(self$`startDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`targetAverage`)) {
          sprintf(
            '"targetAverage":
            %s
      ',
            self$`targetAverage`
          )
        },
        if (!is.null(self$`validationScore`)) {
          sprintf(
            '"validationScore":
            %d
                  ',
            self$`validationScore`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param SeriesAccuracyRetrieveDataResponseJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(SeriesAccuracyRetrieveDataResponseJson, validateParams = FALSE) {
      SeriesAccuracyRetrieveDataResponseObject <- jsonlite::fromJSON(SeriesAccuracyRetrieveDataResponseJson)
      self$`backtestingScore` <- SeriesAccuracyRetrieveDataResponseObject$`backtestingScore`
      self$`cluster` <- SeriesAccuracyRetrieveDataResponseObject$`cluster`
      self$`duration` <- SeriesAccuracyRetrieveDataResponseObject$`duration`
      self$`endDate` <- ParseRFC3339Timestamp(SeriesAccuracyRetrieveDataResponseObject$`endDate`)
      self$`holdoutScore` <- SeriesAccuracyRetrieveDataResponseObject$`holdoutScore`
      self$`multiseriesId` <- SeriesAccuracyRetrieveDataResponseObject$`multiseriesId`
      self$`multiseriesValues` <- ApiClient$new()$deserializeObj(SeriesAccuracyRetrieveDataResponseObject$`multiseriesValues`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`rowCount` <- SeriesAccuracyRetrieveDataResponseObject$`rowCount`
      self$`startDate` <- ParseRFC3339Timestamp(SeriesAccuracyRetrieveDataResponseObject$`startDate`)
      self$`targetAverage` <- .setPrimitiveProperty(typeList = list("character", "numeric"), propertyData = SeriesAccuracyRetrieveDataResponseObject$targetAverage)
      self$`validationScore` <- SeriesAccuracyRetrieveDataResponseObject$`validationScore`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
