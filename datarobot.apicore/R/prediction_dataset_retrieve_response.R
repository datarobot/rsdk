# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title PredictionDatasetRetrieveResponse
#'
#' @description PredictionDatasetRetrieveResponse Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field actualValueColumn  character [optional] Optional, only available for unsupervised projects, in case dataset was uploaded with actual value column specified. Name of the column which will be used to calculate the classification metrics and insights.
#'
#' @field catalogId  character The ID of the AI catalog entry used to create the prediction, dataset or None if not created from the AI catalog.
#'
#' @field catalogVersionId  character The ID of the AI catalog version used to create the prediction dataset, or None if not created from the AI catalog.
#'
#' @field containsTargetValues  character [optional] If True, dataset contains target values and can be used to calculate the classification metrics and insights. Only applies for supervised projects.
#'
#' @field created  character The date string of when the dataset was created, of the format&#x60;YYYY-mm-ddTHH:MM:SS.ssssssZ&#x60;, like &#x60;&#x60;2016-06-09T11:32:34.170338Z&#x60;&#x60;.
#'
#' @field dataEndDate  character [optional] Only available for time series projects, a date string representing the maximum primary date of the prediction dataset.
#'
#' @field dataQualityWarnings  \link{DataQualityWarningsRecord}
#'
#' @field dataStartDate  character [optional] Only available for time series projects, a date string representing the minimum primary date of the prediction dataset.
#'
#' @field detectedActualValueColumns  list( \link{ActualValueColumnInfo} ) [optional] Only available for unsupervised projects, a list of detected &#x60;actualValueColumnInfo&#x60; objects which can be used to calculate the classification metrics and insights.
#'
#' @field forecastPoint  character The date string of the forecastPoint of this prediction dataset. Only non-null for time series projects.
#'
#' @field forecastPointRange  list( character ) [optional] Only available for time series projects, the start and end of the range of dates available for use as the forecast point, detected based on the uploaded prediction dataset.
#'
#' @field id  character The ID of this dataset.
#'
#' @field maxForecastDate  character [optional] Only available for time series projects, a date string representing the maximum forecast date of this prediction dataset.
#'
#' @field name  character The name of the dataset when it was uploaded.
#'
#' @field numColumns  integer The number of columns in this dataset.
#'
#' @field numRows  integer The number of rows in this dataset.
#'
#' @field predictionsEndDate  character The date string of the prediction end date of this prediction dataset. Used for bulk predictions. Note that this parameter is for generating historical predictions using the training data. Only non-null for time series projects.
#'
#' @field predictionsStartDate  character The date string of the prediction start date of this prediction dataset. Used for bulk predictions. Note that this parameter is for generating historical predictions using the training data. Only non-null for time series projects.
#'
#' @field projectId  character The project ID that owns this dataset.
#'
#' @field secondaryDatasetsConfigId  character [optional] Only available for Feature discovery projects. Id of the secondary dataset config used by the dataset for the prediction.
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
PredictionDatasetRetrieveResponse <- R6::R6Class(
  "PredictionDatasetRetrieveResponse",
  lock_objects = FALSE,
  private = list(
    # @description The properties of this object that are required to be set.
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(`actualValueColumn` = NULL, `catalogId` = NULL, `catalogVersionId` = NULL, `containsTargetValues` = NULL, `created` = NULL, `dataEndDate` = NULL, `dataQualityWarnings` = NULL, `dataStartDate` = NULL, `detectedActualValueColumns` = NULL, `forecastPoint` = NULL, `forecastPointRange` = NULL, `id` = NULL, `maxForecastDate` = NULL, `name` = NULL, `numColumns` = NULL, `numRows` = NULL, `predictionsEndDate` = NULL, `predictionsStartDate` = NULL, `projectId` = NULL, `secondaryDatasetsConfigId` = NULL) {
      if (!is.null(`catalogId`)) {
        stopifnot(is.character(`catalogId`), length(`catalogId`) == 1)
      }
      if (!is.null(`catalogVersionId`)) {
        stopifnot(is.character(`catalogVersionId`), length(`catalogVersionId`) == 1)
      }
      if (!is.null(`created`)) {
        stopifnot(inherits(`created`, "POSIXt"))
      }
      if (!is.null(`dataQualityWarnings`)) {
        stopifnot(R6::is.R6(`dataQualityWarnings`))
      }
      if (!is.null(`forecastPoint`)) {
        stopifnot(is.character(`forecastPoint`), length(`forecastPoint`) == 1)
      }
      if (!is.null(`id`)) {
        stopifnot(is.character(`id`), length(`id`) == 1)
      }
      if (!is.null(`name`)) {
        stopifnot(is.character(`name`), length(`name`) == 1)
      }
      if (!is.null(`numColumns`)) {
        stopifnot(is.numeric(`numColumns`), length(`numColumns`) == 1)
      }
      if (!is.null(`numRows`)) {
        stopifnot(is.numeric(`numRows`), length(`numRows`) == 1)
      }
      if (!is.null(`predictionsEndDate`)) {
        stopifnot(inherits(`predictionsEndDate`, "POSIXt"))
      }
      if (!is.null(`predictionsStartDate`)) {
        stopifnot(inherits(`predictionsStartDate`, "POSIXt"))
      }
      if (!is.null(`projectId`)) {
        stopifnot(is.character(`projectId`), length(`projectId`) == 1)
      }
      if (!is.null(`actualValueColumn`)) {
        stopifnot(is.character(`actualValueColumn`), length(`actualValueColumn`) == 1)
      }
      if (!is.null(`containsTargetValues`)) {
        stopifnot(is.logical(`containsTargetValues`), length(`containsTargetValues`) == 1)
      }
      if (!is.null(`dataEndDate`)) {
        stopifnot(inherits(`dataEndDate`, "POSIXt"))
      }
      if (!is.null(`dataStartDate`)) {
        stopifnot(inherits(`dataStartDate`, "POSIXt"))
      }
      if (!is.null(`detectedActualValueColumns`)) {
        stopifnot(is.vector(`detectedActualValueColumns`))
      }
      if (!is.null(`forecastPointRange`)) {
        stopifnot(is.vector(`forecastPointRange`))
      }
      if (!is.null(`maxForecastDate`)) {
        stopifnot(inherits(`maxForecastDate`, "POSIXt"))
      }
      if (!is.null(`secondaryDatasetsConfigId`)) {
        stopifnot(is.character(`secondaryDatasetsConfigId`), length(`secondaryDatasetsConfigId`) == 1)
      }
    }
  ),
  public = list(
    `actualValueColumn` = NULL,
    `catalogId` = NULL,
    `catalogVersionId` = NULL,
    `containsTargetValues` = NULL,
    `created` = NULL,
    `dataEndDate` = NULL,
    `dataQualityWarnings` = NULL,
    `dataStartDate` = NULL,
    `detectedActualValueColumns` = NULL,
    `forecastPoint` = NULL,
    `forecastPointRange` = NULL,
    `id` = NULL,
    `maxForecastDate` = NULL,
    `name` = NULL,
    `numColumns` = NULL,
    `numRows` = NULL,
    `predictionsEndDate` = NULL,
    `predictionsStartDate` = NULL,
    `projectId` = NULL,
    `secondaryDatasetsConfigId` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param actualValueColumn Optional, only available for unsupervised projects, in case dataset was uploaded with actual value column specified. Name of the column which will be used to calculate the classification metrics and insights.
    #' @param catalogId The ID of the AI catalog entry used to create the prediction, dataset or None if not created from the AI catalog.
    #' @param catalogVersionId The ID of the AI catalog version used to create the prediction dataset, or None if not created from the AI catalog.
    #' @param containsTargetValues If True, dataset contains target values and can be used to calculate the classification metrics and insights. Only applies for supervised projects.
    #' @param created The date string of when the dataset was created, of the format&#x60;YYYY-mm-ddTHH:MM:SS.ssssssZ&#x60;, like &#x60;&#x60;2016-06-09T11:32:34.170338Z&#x60;&#x60;.
    #' @param dataEndDate Only available for time series projects, a date string representing the maximum primary date of the prediction dataset.
    #' @param dataQualityWarnings
    #' @param dataStartDate Only available for time series projects, a date string representing the minimum primary date of the prediction dataset.
    #' @param detectedActualValueColumns Only available for unsupervised projects, a list of detected &#x60;actualValueColumnInfo&#x60; objects which can be used to calculate the classification metrics and insights.
    #' @param forecastPoint The date string of the forecastPoint of this prediction dataset. Only non-null for time series projects.
    #' @param forecastPointRange Only available for time series projects, the start and end of the range of dates available for use as the forecast point, detected based on the uploaded prediction dataset.
    #' @param id The ID of this dataset.
    #' @param maxForecastDate Only available for time series projects, a date string representing the maximum forecast date of this prediction dataset.
    #' @param name The name of the dataset when it was uploaded.
    #' @param numColumns The number of columns in this dataset.
    #' @param numRows The number of rows in this dataset.
    #' @param predictionsEndDate The date string of the prediction end date of this prediction dataset. Used for bulk predictions. Note that this parameter is for generating historical predictions using the training data. Only non-null for time series projects.
    #' @param predictionsStartDate The date string of the prediction start date of this prediction dataset. Used for bulk predictions. Note that this parameter is for generating historical predictions using the training data. Only non-null for time series projects.
    #' @param projectId The project ID that owns this dataset.
    #' @param secondaryDatasetsConfigId Only available for Feature discovery projects. Id of the secondary dataset config used by the dataset for the prediction.
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`catalogId` = NULL, `catalogVersionId` = NULL, `created` = NULL, `dataQualityWarnings` = NULL, `forecastPoint` = NULL, `id` = NULL, `name` = NULL, `numColumns` = NULL, `numRows` = NULL, `predictionsEndDate` = NULL, `predictionsStartDate` = NULL, `projectId` = NULL, `actualValueColumn` = NULL, `containsTargetValues` = NULL, `dataEndDate` = NULL, `dataStartDate` = NULL, `detectedActualValueColumns` = NULL, `forecastPointRange` = NULL, `maxForecastDate` = NULL, `secondaryDatasetsConfigId` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      if (validateParams) {
        lapply(list(`catalogId`, `catalogVersionId`, `created`, `dataQualityWarnings`, `forecastPoint`, `id`, `name`, `numColumns`, `numRows`, `predictionsEndDate`, `predictionsStartDate`, `projectId`), function(param) {
          stopifnot("Required param not set." = !is.null(param))
        })
        private$validateProps(actualValueColumn, catalogId, catalogVersionId, containsTargetValues, created, dataEndDate, dataQualityWarnings, dataStartDate, detectedActualValueColumns, forecastPoint, forecastPointRange, id, maxForecastDate, name, numColumns, numRows, predictionsEndDate, predictionsStartDate, projectId, secondaryDatasetsConfigId)
      }
      self$`actualValueColumn` <- `actualValueColumn`
      self$`catalogId` <- `catalogId`
      self$`catalogVersionId` <- `catalogVersionId`
      self$`containsTargetValues` <- `containsTargetValues`
      self$`created` <- `created`
      self$`dataEndDate` <- `dataEndDate`
      self$`dataQualityWarnings` <- `dataQualityWarnings`
      self$`dataStartDate` <- `dataStartDate`
      sapply(`detectedActualValueColumns`, function(x) stopifnot(R6::is.R6(x)))
      self$`forecastPoint` <- `forecastPoint`
      sapply(`forecastPointRange`, function(x) stopifnot(is.character(x)))
      self$`id` <- `id`
      self$`maxForecastDate` <- `maxForecastDate`
      self$`name` <- `name`
      self$`numColumns` <- `numColumns`
      self$`numRows` <- `numRows`
      self$`predictionsEndDate` <- `predictionsEndDate`
      self$`predictionsStartDate` <- `predictionsStartDate`
      self$`projectId` <- `projectId`
      self$`secondaryDatasetsConfigId` <- `secondaryDatasetsConfigId`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    #' checking this objects set properties.
    validate = function() {
      do.call(private$validateProps, list(actualValueColumn = self$`actualValueColumn`, catalogId = self$`catalogId`, catalogVersionId = self$`catalogVersionId`, containsTargetValues = self$`containsTargetValues`, created = self$`created`, dataEndDate = self$`dataEndDate`, dataQualityWarnings = self$`dataQualityWarnings`, dataStartDate = self$`dataStartDate`, detectedActualValueColumns = self$`detectedActualValueColumns`, forecastPoint = self$`forecastPoint`, forecastPointRange = self$`forecastPointRange`, id = self$`id`, maxForecastDate = self$`maxForecastDate`, name = self$`name`, numColumns = self$`numColumns`, numRows = self$`numRows`, predictionsEndDate = self$`predictionsEndDate`, predictionsStartDate = self$`predictionsStartDate`, projectId = self$`projectId`, secondaryDatasetsConfigId = self$`secondaryDatasetsConfigId`))
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`actualValueColumn`)) {
          sprintf(
            '"actualValueColumn":
            "%s"
                  ',
            self$`actualValueColumn`
          )
        },
        if (!is.null(self$`catalogId`)) {
          sprintf(
            '"catalogId":
            "%s"
                  ',
            self$`catalogId`
          )
        },
        if (!is.null(self$`catalogVersionId`)) {
          sprintf(
            '"catalogVersionId":
            "%s"
                  ',
            self$`catalogVersionId`
          )
        },
        if (!is.null(self$`containsTargetValues`)) {
          sprintf(
            '"containsTargetValues":
            %s
                  ',
            tolower(self$`containsTargetValues`)
          )
        },
        if (!is.null(self$`created`)) {
          sprintf(
            '"created":
            "%s"
                  ',
            format(self$`created`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`dataEndDate`)) {
          sprintf(
            '"dataEndDate":
            "%s"
                  ',
            format(self$`dataEndDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`dataQualityWarnings`)) {
          sprintf(
            '"dataQualityWarnings":
            %s
      ',
            jsonlite::toJSON(self$`dataQualityWarnings`$toJSON(), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`dataStartDate`)) {
          sprintf(
            '"dataStartDate":
            "%s"
                  ',
            format(self$`dataStartDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`detectedActualValueColumns`)) {
          sprintf(
            '"detectedActualValueColumns":
            [%s]
      ',
            paste(sapply(self$`detectedActualValueColumns`, function(x) jsonlite::toJSON(x$toJSON(), auto_unbox = TRUE, digits = NA)), collapse = ",")
          )
        },
        if (!is.null(self$`forecastPoint`)) {
          sprintf(
            '"forecastPoint":
            "%s"
                  ',
            self$`forecastPoint`
          )
        },
        if (!is.null(self$`forecastPointRange`)) {
          sprintf(
            '"forecastPointRange":
            [%s]
                  ',
            paste(unlist(lapply(self$`forecastPointRange`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`id`)) {
          sprintf(
            '"id":
            "%s"
                  ',
            self$`id`
          )
        },
        if (!is.null(self$`maxForecastDate`)) {
          sprintf(
            '"maxForecastDate":
            "%s"
                  ',
            format(self$`maxForecastDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`name`)) {
          sprintf(
            '"name":
            "%s"
                  ',
            self$`name`
          )
        },
        if (!is.null(self$`numColumns`)) {
          sprintf(
            '"numColumns":
            %d
                  ',
            self$`numColumns`
          )
        },
        if (!is.null(self$`numRows`)) {
          sprintf(
            '"numRows":
            %d
                  ',
            self$`numRows`
          )
        },
        if (!is.null(self$`predictionsEndDate`)) {
          sprintf(
            '"predictionsEndDate":
            "%s"
                  ',
            format(self$`predictionsEndDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`predictionsStartDate`)) {
          sprintf(
            '"predictionsStartDate":
            "%s"
                  ',
            format(self$`predictionsStartDate`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`projectId`)) {
          sprintf(
            '"projectId":
            "%s"
                  ',
            self$`projectId`
          )
        },
        if (!is.null(self$`secondaryDatasetsConfigId`)) {
          sprintf(
            '"secondaryDatasetsConfigId":
            "%s"
                  ',
            self$`secondaryDatasetsConfigId`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param PredictionDatasetRetrieveResponseJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(PredictionDatasetRetrieveResponseJson, validateParams = FALSE) {
      PredictionDatasetRetrieveResponseObject <- jsonlite::fromJSON(PredictionDatasetRetrieveResponseJson)
      self$`actualValueColumn` <- PredictionDatasetRetrieveResponseObject$`actualValueColumn`
      self$`catalogId` <- PredictionDatasetRetrieveResponseObject$`catalogId`
      self$`catalogVersionId` <- PredictionDatasetRetrieveResponseObject$`catalogVersionId`
      self$`containsTargetValues` <- PredictionDatasetRetrieveResponseObject$`containsTargetValues`
      self$`created` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`created`)
      self$`dataEndDate` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`dataEndDate`)
      self$`dataQualityWarnings` <- DataQualityWarningsRecord$new()$fromJSON(jsonlite::toJSON(PredictionDatasetRetrieveResponseObject$dataQualityWarnings, auto_unbox = TRUE, digits = NA, null = "null"))
      self$`dataStartDate` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`dataStartDate`)
      self$`detectedActualValueColumns` <- ApiClient$new()$deserializeObj(PredictionDatasetRetrieveResponseObject$`detectedActualValueColumns`, "array[ActualValueColumnInfo]", loadNamespace("datarobot.apicore"))
      self$`forecastPoint` <- PredictionDatasetRetrieveResponseObject$`forecastPoint`
      self$`forecastPointRange` <- ApiClient$new()$deserializeObj(PredictionDatasetRetrieveResponseObject$`forecastPointRange`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`id` <- PredictionDatasetRetrieveResponseObject$`id`
      self$`maxForecastDate` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`maxForecastDate`)
      self$`name` <- PredictionDatasetRetrieveResponseObject$`name`
      self$`numColumns` <- PredictionDatasetRetrieveResponseObject$`numColumns`
      self$`numRows` <- PredictionDatasetRetrieveResponseObject$`numRows`
      self$`predictionsEndDate` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`predictionsEndDate`)
      self$`predictionsStartDate` <- ParseRFC3339Timestamp(PredictionDatasetRetrieveResponseObject$`predictionsStartDate`)
      self$`projectId` <- PredictionDatasetRetrieveResponseObject$`projectId`
      self$`secondaryDatasetsConfigId` <- PredictionDatasetRetrieveResponseObject$`secondaryDatasetsConfigId`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
