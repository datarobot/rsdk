# Copyright 2021 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.27.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title ScheduledJobPayload
#'
#' @description ScheduledJobPayload Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field dayOfMonth  list( \link{AnyOfnumberstring} ) [optional] The date(s) of the month that the job will run. Allowed values are either &#x60;&#x60;[1 ... 31]&#x60;&#x60; or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; for all days of the month. This field is additive with &#x60;&#x60;dayOfWeek&#x60;&#x60;, meaning the job will run both on the date(s) defined in this field and the day specified by &#x60;&#x60;dayOfWeek&#x60;&#x60; (for example, dates 1st, 2nd, 3rd, plus every Tuesday). If &#x60;&#x60;dayOfMonth&#x60;&#x60; is set to &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; and &#x60;&#x60;dayOfWeek&#x60;&#x60; is defined, the scheduler will trigger on every day of the month that matches &#x60;&#x60;dayOfWeek&#x60;&#x60; (for example, Tuesday the 2nd, 9th, 16th, 23rd, 30th). Invalid dates such as February 31st are ignored.
#'
#' @field dayOfWeek  list( \link{AnyOfnumberstring} ) [optional] The day(s) of the week that the job will run. Allowed values are &#x60;&#x60;[0 .. 6]&#x60;&#x60;, where (Sunday&#x3D;0), or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60;, for all days of the week. Strings, either 3-letter abbreviations or the full name of the day, can be used interchangeably (e.g., \&quot;sunday\&quot;, \&quot;Sunday\&quot;, \&quot;sun\&quot;, or \&quot;Sun\&quot;, all map to &#x60;&#x60;[0]&#x60;&#x60;. This field is additive with &#x60;&#x60;dayOfMonth&#x60;&#x60;, meaning the job will run both on the date specified by &#x60;&#x60;dayOfMonth&#x60;&#x60; and the day defined in this field.
#'
#' @field hour  list( \link{AnyOfnumberstring} ) [optional] The hour(s) of the day that the job will run. Allowed values are either &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; meaning every hour of the day or &#x60;&#x60;[0 ... 23]&#x60;&#x60;.
#'
#' @field minute  \link{OneOfstringarray} [optional] The minute that will trigger the refresh, allowed values are 0 to 59.
#'
#' @field month  list( \link{AnyOfnumberstring} ) [optional] The month(s) of the year that the job will run. Allowed values are either &#x60;&#x60;[1 ... 12]&#x60;&#x60; or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; for all months of the year. Strings, either 3-letter abbreviations or the full name of the month, can be used interchangeably (e.g., \&quot;jan\&quot; or \&quot;october\&quot;). Months that are not compatible with &#x60;&#x60;dayOfMonth&#x60;&#x60; are ignored, for example &#x60;&#x60;{\&quot;dayOfMonth\&quot;: [31], \&quot;month\&quot;:[\&quot;feb\&quot;]}&#x60;&#x60;.
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
ScheduledJobPayload <- R6::R6Class(
  "ScheduledJobPayload",
  lock_objects = FALSE,
  private = list(
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(dayOfMonth = NULL, dayOfWeek = NULL, hour = NULL, minute = NULL, month = NULL) {
      if (!is.null(`dayOfMonth`)) {
        .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = dayOfMonth)
      }
      if (!is.null(`dayOfWeek`)) {
        .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = dayOfWeek)
      }
      if (!is.null(`hour`)) {
        .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = hour)
      }
      if (!is.null(`minute`)) {
        .setPrimitiveProperty(typeList = list("character", "array"), propertyData = minute)
      }
      if (!is.null(`month`)) {
        .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = month)
      }
    }
  ),
  public = list(
    `dayOfMonth` = NULL,
    `dayOfWeek` = NULL,
    `hour` = NULL,
    `minute` = NULL,
    `month` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param dayOfMonth The date(s) of the month that the job will run. Allowed values are either &#x60;&#x60;[1 ... 31]&#x60;&#x60; or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; for all days of the month. This field is additive with &#x60;&#x60;dayOfWeek&#x60;&#x60;, meaning the job will run both on the date(s) defined in this field and the day specified by &#x60;&#x60;dayOfWeek&#x60;&#x60; (for example, dates 1st, 2nd, 3rd, plus every Tuesday). If &#x60;&#x60;dayOfMonth&#x60;&#x60; is set to &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; and &#x60;&#x60;dayOfWeek&#x60;&#x60; is defined, the scheduler will trigger on every day of the month that matches &#x60;&#x60;dayOfWeek&#x60;&#x60; (for example, Tuesday the 2nd, 9th, 16th, 23rd, 30th). Invalid dates such as February 31st are ignored.
    #' @param dayOfWeek The day(s) of the week that the job will run. Allowed values are &#x60;&#x60;[0 .. 6]&#x60;&#x60;, where (Sunday&#x3D;0), or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60;, for all days of the week. Strings, either 3-letter abbreviations or the full name of the day, can be used interchangeably (e.g., \&quot;sunday\&quot;, \&quot;Sunday\&quot;, \&quot;sun\&quot;, or \&quot;Sun\&quot;, all map to &#x60;&#x60;[0]&#x60;&#x60;. This field is additive with &#x60;&#x60;dayOfMonth&#x60;&#x60;, meaning the job will run both on the date specified by &#x60;&#x60;dayOfMonth&#x60;&#x60; and the day defined in this field.
    #' @param hour The hour(s) of the day that the job will run. Allowed values are either &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; meaning every hour of the day or &#x60;&#x60;[0 ... 23]&#x60;&#x60;.
    #' @param minute The minute that will trigger the refresh, allowed values are 0 to 59.
    #' @param month The month(s) of the year that the job will run. Allowed values are either &#x60;&#x60;[1 ... 12]&#x60;&#x60; or &#x60;&#x60;[\&quot;*\&quot;]&#x60;&#x60; for all months of the year. Strings, either 3-letter abbreviations or the full name of the month, can be used interchangeably (e.g., \&quot;jan\&quot; or \&quot;october\&quot;). Months that are not compatible with &#x60;&#x60;dayOfMonth&#x60;&#x60; are ignored, for example &#x60;&#x60;{\&quot;dayOfMonth\&quot;: [31], \&quot;month\&quot;:[\&quot;feb\&quot;]}&#x60;&#x60;.
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(
        `dayOfMonth` = c("*"), `dayOfWeek` = c("*"), `hour` = c("*"), `minute` = NULL, `month` = c("*"), validateParams = FALSE, ...
    ) {
      local.optional.var <- list(...)
      requiredProps <- list()
      if (validateParams) {
        lapply(requiredProps, missing)
        private$validateProps(dayOfMonth, dayOfWeek, hour, minute, month)
      }
        self$`dayOfMonth` <- .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = dayOfMonth)
        self$`dayOfWeek` <- .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = dayOfWeek)
        self$`hour` <- .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = hour)
        self$`minute` <- .setPrimitiveProperty(typeList = list("character", "array"), propertyData = minute)
        self$`month` <- .setPrimitiveProperty(typeList = list("numeric", "character"), propertyData = month)
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    validate = function() {
      props <- list(dayOfMonth = self$`dayOfMonth`, dayOfWeek = self$`dayOfWeek`, hour = self$`hour`, minute = self$`minute`, month = self$`month`)
      do.call(private$validateProps, props)
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`dayOfMonth`)) {
        sprintf(
        '"dayOfMonth":
        [%s]
',
        paste(sapply(self$`dayOfMonth`, function(x) jsonlite::toJSON(x$toJSON(), auto_unbox = TRUE, digits = NA)), collapse = ",")
        )},
        if (!is.null(self$`dayOfWeek`)) {
        sprintf(
        '"dayOfWeek":
        [%s]
',
        paste(sapply(self$`dayOfWeek`, function(x) jsonlite::toJSON(x$toJSON(), auto_unbox = TRUE, digits = NA)), collapse = ",")
        )},
        if (!is.null(self$`hour`)) {
        sprintf(
        '"hour":
        [%s]
',
        paste(sapply(self$`hour`, function(x) jsonlite::toJSON(x$toJSON(), auto_unbox = TRUE, digits = NA)), collapse = ",")
        )},
        if (!is.null(self$`minute`)) {
        sprintf(
        '"minute":
        %s
        ',
        jsonlite::toJSON(self$`minute`$toJSON(), auto_unbox = TRUE, digits = NA)
        )},
        if (!is.null(self$`month`)) {
        sprintf(
        '"month":
        [%s]
',
        paste(sapply(self$`month`, function(x) jsonlite::toJSON(x$toJSON(), auto_unbox = TRUE, digits = NA)), collapse = ",")
        )}
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param ScheduledJobPayloadJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(ScheduledJobPayloadJson, validateParams = FALSE) {
      ScheduledJobPayloadObject <- jsonlite::fromJSON(ScheduledJobPayloadJson)
      self$`dayOfMonth` <- ApiClient$new()$deserializeObj(ScheduledJobPayloadObject$`dayOfMonth`, "array[AnyOfnumberstring]", loadNamespace("datarobot.apicore"))
      self$`dayOfWeek` <- ApiClient$new()$deserializeObj(ScheduledJobPayloadObject$`dayOfWeek`, "array[AnyOfnumberstring]", loadNamespace("datarobot.apicore"))
      self$`hour` <- ApiClient$new()$deserializeObj(ScheduledJobPayloadObject$`hour`, "array[AnyOfnumberstring]", loadNamespace("datarobot.apicore"))
      self$`minute` <- .setPrimitiveProperty(typeList = list("character", "array"), propertyData = ScheduledJobPayloadObject$minute)
      self$`month` <- ApiClient$new()$deserializeObj(ScheduledJobPayloadObject$`month`, "array[AnyOfnumberstring]", loadNamespace("datarobot.apicore"))

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
