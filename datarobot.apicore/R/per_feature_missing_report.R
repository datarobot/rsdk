# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title PerFeatureMissingReport
#'
#' @description PerFeatureMissingReport Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field feature  character The name of the feature
#'
#' @field missingCount  integer The number of missing values in the training data
#'
#' @field missingPercentage  numeric The percentage of missing values in the training data
#'
#' @field tasks  named list( \link{PerFeatureTaskMissingReport} ) Information on individual tasks of the model which were used to process the feature. The names of properties will be task ids (which correspond to the ids used in the blueprint chart endpoints like :http:get:&#x60;/api/v2/projects/(projectId)/blueprints/(blueprintId)/blueprintChart/&#x60;) The corresponding value for each task will be of the form &#x60;task&#x60; described.
#'
#' @field type  character The type of the feature, e.g. &#x60;Categorical&#x60; or &#x60;Numeric&#x60;
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
PerFeatureMissingReport <- R6::R6Class(
  "PerFeatureMissingReport",
  lock_objects = FALSE,
  private = list(
    # @description The properties of this object that are required to be set.
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(`feature` = NULL, `missingCount` = NULL, `missingPercentage` = NULL, `tasks` = NULL, `type` = NULL) {
      if (!is.null(`feature`)) {
        stopifnot(is.character(`feature`), length(`feature`) == 1)
      }
      if (!is.null(`missingCount`)) {
        stopifnot(is.numeric(`missingCount`), length(`missingCount`) == 1)
      }
      if (!is.null(`missingPercentage`)) {
      }
      if (!is.null(`tasks`)) {
        stopifnot(is.vector(`tasks`), sapply(`tasks`, R6::is.R6))
      }
      if (!is.null(`type`)) {
        stopifnot(is.character(`type`), length(`type`) == 1)
      }
    }
  ),
  public = list(
    `feature` = NULL,
    `missingCount` = NULL,
    `missingPercentage` = NULL,
    `tasks` = NULL,
    `type` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param feature The name of the feature
    #' @param missingCount The number of missing values in the training data
    #' @param missingPercentage The percentage of missing values in the training data
    #' @param tasks Information on individual tasks of the model which were used to process the feature. The names of properties will be task ids (which correspond to the ids used in the blueprint chart endpoints like :http:get:&#x60;/api/v2/projects/(projectId)/blueprints/(blueprintId)/blueprintChart/&#x60;) The corresponding value for each task will be of the form &#x60;task&#x60; described.
    #' @param type The type of the feature, e.g. &#x60;Categorical&#x60; or &#x60;Numeric&#x60;
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`feature` = NULL, `missingCount` = NULL, `missingPercentage` = NULL, `tasks` = NULL, `type` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      if (validateParams) {
        lapply(list(`feature`, `missingCount`, `missingPercentage`, `tasks`, `type`), function(param) {
          stopifnot("Required param not set." = !is.null(param))
        })
        private$validateProps(feature, missingCount, missingPercentage, tasks, type)
      }
      self$`feature` <- `feature`
      self$`missingCount` <- `missingCount`
      self$`missingPercentage` <- `missingPercentage`
      self$`tasks` <- `tasks`
      self$`type` <- `type`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    #' checking this objects set properties.
    validate = function() {
      do.call(private$validateProps, list(feature = self$`feature`, missingCount = self$`missingCount`, missingPercentage = self$`missingPercentage`, tasks = self$`tasks`, type = self$`type`))
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`feature`)) {
          sprintf(
            '"feature":
            "%s"
                  ',
            self$`feature`
          )
        },
        if (!is.null(self$`missingCount`)) {
          sprintf(
            '"missingCount":
            %d
                  ',
            self$`missingCount`
          )
        },
        if (!is.null(self$`missingPercentage`)) {
          sprintf(
            '"missingPercentage":
            %d
                  ',
            self$`missingPercentage`
          )
        },
        if (!is.null(self$`tasks`)) {
          sprintf(
            '"tasks":
            %s
      ',
            jsonlite::toJSON(lapply(self$`tasks`, function(x) {
              x$toJSON()
            }), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`type`)) {
          sprintf(
            '"type":
            "%s"
                  ',
            self$`type`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param PerFeatureMissingReportJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(PerFeatureMissingReportJson, validateParams = FALSE) {
      PerFeatureMissingReportObject <- jsonlite::fromJSON(PerFeatureMissingReportJson)
      self$`feature` <- PerFeatureMissingReportObject$`feature`
      self$`missingCount` <- PerFeatureMissingReportObject$`missingCount`
      self$`missingPercentage` <- PerFeatureMissingReportObject$`missingPercentage`
      self$`tasks` <- ApiClient$new()$deserializeObj(PerFeatureMissingReportObject$`tasks`, "map(PerFeatureTaskMissingReport)", loadNamespace("datarobot.apicore"))
      self$`type` <- PerFeatureMissingReportObject$`type`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
