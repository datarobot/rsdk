# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title CalendarRecord
#'
#' @description CalendarRecord Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field created  character An ISO-8601 string with the time that this calendar was created.
#'
#' @field datetimeFormat  character The datetime format detected for the uploaded calendar file.
#'
#' @field earliestEvent  character An ISO-8601 date string of the earliest event seen in this calendar.
#'
#' @field id  character The ID of this calendar.
#'
#' @field latestEvent  character An ISO-8601 date string of the latest event seen in this calendar.
#'
#' @field multiseriesIdColumns  list( character ) An array of multiseries ID column names in this calendar file. Currently only one multiseries ID column is supported. Will be &#x60;null&#x60; if this calendar is single-series.
#'
#' @field name  character The name of this calendar. This will be the same as &#x60;source&#x60; if no name was specified when the calendar was created.
#'
#' @field numEventTypes  integer The number of distinct eventTypes in this calendar.
#'
#' @field numEvents  integer The number of dates that are marked as having an event in this calendar.
#'
#' @field projectId  list( character ) The project IDs of projects currently using this calendar.
#'
#' @field role  character The role the requesting user has on this calendar.
#'
#' @field source  character The name of the source file that was used to create this calendar.
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
CalendarRecord <- R6::R6Class(
  "CalendarRecord",
  lock_objects = FALSE,
  private = list(
    # @description The properties of this object that are required to be set.
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(`created` = NULL, `datetimeFormat` = NULL, `earliestEvent` = NULL, `id` = NULL, `latestEvent` = NULL, `multiseriesIdColumns` = NULL, `name` = NULL, `numEventTypes` = NULL, `numEvents` = NULL, `projectId` = NULL, `role` = NULL, `source` = NULL) {
      if (!is.null(`created`)) {
        stopifnot(inherits(`created`, "POSIXt"))
      }
      if (!is.null(`datetimeFormat`)) {
        stopifnot(is.character(`datetimeFormat`), length(`datetimeFormat`) == 1)
      }
      if (!is.null(`earliestEvent`)) {
        stopifnot(inherits(`earliestEvent`, "POSIXt"))
      }
      if (!is.null(`id`)) {
        stopifnot(is.character(`id`), length(`id`) == 1)
      }
      if (!is.null(`latestEvent`)) {
        stopifnot(inherits(`latestEvent`, "POSIXt"))
      }
      if (!is.null(`multiseriesIdColumns`)) {
        stopifnot(is.vector(`multiseriesIdColumns`))
      }
      if (!is.null(`name`)) {
        stopifnot(is.character(`name`), length(`name`) == 1)
      }
      if (!is.null(`numEventTypes`)) {
        stopifnot(is.numeric(`numEventTypes`), length(`numEventTypes`) == 1)
      }
      if (!is.null(`numEvents`)) {
        stopifnot(is.numeric(`numEvents`), length(`numEvents`) == 1)
      }
      if (!is.null(`projectId`)) {
        stopifnot(is.vector(`projectId`))
      }
      if (!is.null(`role`)) {
        stopifnot(is.character(`role`), length(`role`) == 1)
      }
      if (!is.null(`source`)) {
        stopifnot(is.character(`source`), length(`source`) == 1)
      }
    }
  ),
  public = list(
    `created` = NULL,
    `datetimeFormat` = NULL,
    `earliestEvent` = NULL,
    `id` = NULL,
    `latestEvent` = NULL,
    `multiseriesIdColumns` = NULL,
    `name` = NULL,
    `numEventTypes` = NULL,
    `numEvents` = NULL,
    `projectId` = NULL,
    `role` = NULL,
    `source` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param created An ISO-8601 string with the time that this calendar was created.
    #' @param datetimeFormat The datetime format detected for the uploaded calendar file.
    #' @param earliestEvent An ISO-8601 date string of the earliest event seen in this calendar.
    #' @param id The ID of this calendar.
    #' @param latestEvent An ISO-8601 date string of the latest event seen in this calendar.
    #' @param multiseriesIdColumns An array of multiseries ID column names in this calendar file. Currently only one multiseries ID column is supported. Will be &#x60;null&#x60; if this calendar is single-series.
    #' @param name The name of this calendar. This will be the same as &#x60;source&#x60; if no name was specified when the calendar was created.
    #' @param numEventTypes The number of distinct eventTypes in this calendar.
    #' @param numEvents The number of dates that are marked as having an event in this calendar.
    #' @param projectId The project IDs of projects currently using this calendar.
    #' @param role The role the requesting user has on this calendar.
    #' @param source The name of the source file that was used to create this calendar.
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`created` = NULL, `datetimeFormat` = NULL, `earliestEvent` = NULL, `id` = NULL, `latestEvent` = NULL, `multiseriesIdColumns` = NULL, `name` = NULL, `numEventTypes` = NULL, `numEvents` = NULL, `projectId` = NULL, `role` = NULL, `source` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      if (validateParams) {
        lapply(list(`created`, `datetimeFormat`, `earliestEvent`, `id`, `latestEvent`, `multiseriesIdColumns`, `name`, `numEventTypes`, `numEvents`, `projectId`, `role`, `source`), function(param) {
          stopifnot("Required param not set." = !is.null(param))
        })
        private$validateProps(created, datetimeFormat, earliestEvent, id, latestEvent, multiseriesIdColumns, name, numEventTypes, numEvents, projectId, role, source)
      }
      self$`created` <- `created`
      self$`datetimeFormat` <- `datetimeFormat`
      self$`earliestEvent` <- `earliestEvent`
      self$`id` <- `id`
      self$`latestEvent` <- `latestEvent`
      sapply(`multiseriesIdColumns`, function(x) stopifnot(is.character(x)))
      self$`name` <- `name`
      self$`numEventTypes` <- `numEventTypes`
      self$`numEvents` <- `numEvents`
      sapply(`projectId`, function(x) stopifnot(is.character(x)))
      self$`role` <- `role`
      self$`source` <- `source`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    #' checking this objects set properties.
    validate = function() {
      do.call(private$validateProps, list(created = self$`created`, datetimeFormat = self$`datetimeFormat`, earliestEvent = self$`earliestEvent`, id = self$`id`, latestEvent = self$`latestEvent`, multiseriesIdColumns = self$`multiseriesIdColumns`, name = self$`name`, numEventTypes = self$`numEventTypes`, numEvents = self$`numEvents`, projectId = self$`projectId`, role = self$`role`, source = self$`source`))
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`created`)) {
          sprintf(
            '"created":
            "%s"
                  ',
            format(self$`created`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`datetimeFormat`)) {
          sprintf(
            '"datetimeFormat":
            "%s"
                  ',
            self$`datetimeFormat`
          )
        },
        if (!is.null(self$`earliestEvent`)) {
          sprintf(
            '"earliestEvent":
            "%s"
                  ',
            format(self$`earliestEvent`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`id`)) {
          sprintf(
            '"id":
            "%s"
                  ',
            self$`id`
          )
        },
        if (!is.null(self$`latestEvent`)) {
          sprintf(
            '"latestEvent":
            "%s"
                  ',
            format(self$`latestEvent`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`multiseriesIdColumns`)) {
          sprintf(
            '"multiseriesIdColumns":
            [%s]
                  ',
            paste(unlist(lapply(self$`multiseriesIdColumns`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`name`)) {
          sprintf(
            '"name":
            "%s"
                  ',
            self$`name`
          )
        },
        if (!is.null(self$`numEventTypes`)) {
          sprintf(
            '"numEventTypes":
            %d
                  ',
            self$`numEventTypes`
          )
        },
        if (!is.null(self$`numEvents`)) {
          sprintf(
            '"numEvents":
            %d
                  ',
            self$`numEvents`
          )
        },
        if (!is.null(self$`projectId`)) {
          sprintf(
            '"projectId":
            [%s]
                  ',
            paste(unlist(lapply(self$`projectId`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`role`)) {
          sprintf(
            '"role":
            "%s"
                  ',
            self$`role`
          )
        },
        if (!is.null(self$`source`)) {
          sprintf(
            '"source":
            "%s"
                  ',
            self$`source`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param CalendarRecordJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(CalendarRecordJson, validateParams = FALSE) {
      CalendarRecordObject <- jsonlite::fromJSON(CalendarRecordJson)
      self$`created` <- ParseRFC3339Timestamp(CalendarRecordObject$`created`)
      self$`datetimeFormat` <- CalendarRecordObject$`datetimeFormat`
      self$`earliestEvent` <- ParseRFC3339Timestamp(CalendarRecordObject$`earliestEvent`)
      self$`id` <- CalendarRecordObject$`id`
      self$`latestEvent` <- ParseRFC3339Timestamp(CalendarRecordObject$`latestEvent`)
      self$`multiseriesIdColumns` <- ApiClient$new()$deserializeObj(CalendarRecordObject$`multiseriesIdColumns`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`name` <- CalendarRecordObject$`name`
      self$`numEventTypes` <- CalendarRecordObject$`numEventTypes`
      self$`numEvents` <- CalendarRecordObject$`numEvents`
      self$`projectId` <- ApiClient$new()$deserializeObj(CalendarRecordObject$`projectId`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`role` <- CalendarRecordObject$`role`
      self$`source` <- CalendarRecordObject$`source`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
