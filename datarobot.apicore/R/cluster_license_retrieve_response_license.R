# Copyright 2021 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.28.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title ClusterLicenseRetrieveResponseLicense
#'
#' @description ClusterLicenseRetrieveResponseLicense Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field concurrentWorkersCount  integer The number of allowed simultaneously running jobs(concurrent workers)
#'
#' @field expirationTimestamp  character The time of the license expiration in UTC ISO format,ex. 2020-12-21T23:59:59.000000Z
#'
#' @field expired  character A value indicating whether the license has already expired
#'
#' @field featureFlags  named list( \link{FeatureFlagObject} ) An object containing enforced feature flags. Each key is a name of a feature flag and value is an object described below.
#'
#' @field maxDeploymentLimit  integer The number of maximum deployments limit (0: unlimited)
#'
#' @field maximumActiveUsers  integer The number of maximum active users allowed in the system(0: unlimited
#'
#' @field prepaidDeploymentLimit  integer The number of prepaid deployments limit (0: unlimited)
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
ClusterLicenseRetrieveResponseLicense <- R6::R6Class(
  "ClusterLicenseRetrieveResponseLicense",
  lock_objects = FALSE,
  private = list(
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(concurrentWorkersCount = NULL, expirationTimestamp = NULL, expired = NULL, featureFlags = NULL, maxDeploymentLimit = NULL, maximumActiveUsers = NULL, prepaidDeploymentLimit = NULL) {
      if (!is.null(`concurrentWorkersCount`)) {
        stopifnot(is.numeric(`concurrentWorkersCount`), length(`concurrentWorkersCount`) == 1)
      }
      if (!is.null(`expirationTimestamp`)) {
        stopifnot(is.character(`expirationTimestamp`), length(`expirationTimestamp`) == 1)
      }
      if (!is.null(`expired`)) {
        stopifnot(is.logical(`expired`), length(`expired`) == 1)
      }
      if (!is.null(`featureFlags`)) {
        stopifnot(is.vector(`featureFlags`))
      }
      if (!is.null(`maxDeploymentLimit`)) {
        stopifnot(is.numeric(`maxDeploymentLimit`), length(`maxDeploymentLimit`) == 1)
      }
      if (!is.null(`maximumActiveUsers`)) {
        stopifnot(is.numeric(`maximumActiveUsers`), length(`maximumActiveUsers`) == 1)
      }
      if (!is.null(`prepaidDeploymentLimit`)) {
        stopifnot(is.numeric(`prepaidDeploymentLimit`), length(`prepaidDeploymentLimit`) == 1)
      }
    }
  ),
  public = list(
    `concurrentWorkersCount` = NULL,
    `expirationTimestamp` = NULL,
    `expired` = NULL,
    `featureFlags` = NULL,
    `maxDeploymentLimit` = NULL,
    `maximumActiveUsers` = NULL,
    `prepaidDeploymentLimit` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param concurrentWorkersCount The number of allowed simultaneously running jobs(concurrent workers)
    #' @param expirationTimestamp The time of the license expiration in UTC ISO format,ex. 2020-12-21T23:59:59.000000Z
    #' @param expired A value indicating whether the license has already expired
    #' @param featureFlags An object containing enforced feature flags. Each key is a name of a feature flag and value is an object described below.
    #' @param maxDeploymentLimit The number of maximum deployments limit (0: unlimited)
    #' @param maximumActiveUsers The number of maximum active users allowed in the system(0: unlimited
    #' @param prepaidDeploymentLimit The number of prepaid deployments limit (0: unlimited)
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`concurrentWorkersCount` = NULL, `expirationTimestamp` = NULL, `expired` = NULL, `featureFlags` = NULL, `maxDeploymentLimit` = NULL, `maximumActiveUsers` = NULL, `prepaidDeploymentLimit` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      requiredProps <- list(`concurrentWorkersCount`, `expirationTimestamp`, `expired`, `featureFlags`, `maxDeploymentLimit`, `maximumActiveUsers`, `prepaidDeploymentLimit`)
      if (validateParams) {
        lapply(requiredProps, missing)
        private$validateProps(concurrentWorkersCount, expirationTimestamp, expired, featureFlags, maxDeploymentLimit, maximumActiveUsers, prepaidDeploymentLimit)
      }
      self$`concurrentWorkersCount` <- `concurrentWorkersCount`
      self$`expirationTimestamp` <- `expirationTimestamp`
      self$`expired` <- `expired`
      sapply(`featureFlags`, function(x) stopifnot(R6::is.R6(x)))
      self$`maxDeploymentLimit` <- `maxDeploymentLimit`
      self$`maximumActiveUsers` <- `maximumActiveUsers`
      self$`prepaidDeploymentLimit` <- `prepaidDeploymentLimit`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    validate = function() {
      props <- list(concurrentWorkersCount = self$`concurrentWorkersCount`, expirationTimestamp = self$`expirationTimestamp`, expired = self$`expired`, featureFlags = self$`featureFlags`, maxDeploymentLimit = self$`maxDeploymentLimit`, maximumActiveUsers = self$`maximumActiveUsers`, prepaidDeploymentLimit = self$`prepaidDeploymentLimit`)
      do.call(private$validateProps, props)
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`concurrentWorkersCount`)) {
          sprintf(
            '"concurrentWorkersCount":
            %d
                  ',
            self$`concurrentWorkersCount`
          )
        },
        if (!is.null(self$`expirationTimestamp`)) {
          sprintf(
            '"expirationTimestamp":
            "%s"
                  ',
            self$`expirationTimestamp`
          )
        },
        if (!is.null(self$`expired`)) {
          sprintf(
            '"expired":
            %s
                  ',
            tolower(self$`expired`)
          )
        },
        if (!is.null(self$`featureFlags`)) {
          sprintf(
            '"featureFlags":
          %s
',
            jsonlite::toJSON(lapply(self$`featureFlags`, function(x) {
              x$toJSON()
            }), auto_unbox = TRUE, digits = NA)
          )
        },
        if (!is.null(self$`maxDeploymentLimit`)) {
          sprintf(
            '"maxDeploymentLimit":
            %d
                  ',
            self$`maxDeploymentLimit`
          )
        },
        if (!is.null(self$`maximumActiveUsers`)) {
          sprintf(
            '"maximumActiveUsers":
            %d
                  ',
            self$`maximumActiveUsers`
          )
        },
        if (!is.null(self$`prepaidDeploymentLimit`)) {
          sprintf(
            '"prepaidDeploymentLimit":
            %d
                  ',
            self$`prepaidDeploymentLimit`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param ClusterLicenseRetrieveResponseLicenseJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(ClusterLicenseRetrieveResponseLicenseJson, validateParams = FALSE) {
      ClusterLicenseRetrieveResponseLicenseObject <- jsonlite::fromJSON(ClusterLicenseRetrieveResponseLicenseJson)
      self$`concurrentWorkersCount` <- ClusterLicenseRetrieveResponseLicenseObject$`concurrentWorkersCount`
      self$`expirationTimestamp` <- ClusterLicenseRetrieveResponseLicenseObject$`expirationTimestamp`
      self$`expired` <- ClusterLicenseRetrieveResponseLicenseObject$`expired`
      self$`featureFlags` <- ApiClient$new()$deserializeObj(ClusterLicenseRetrieveResponseLicenseObject$`featureFlags`, "map(FeatureFlagObject)", loadNamespace("datarobot.apicore"))
      self$`maxDeploymentLimit` <- ClusterLicenseRetrieveResponseLicenseObject$`maxDeploymentLimit`
      self$`maximumActiveUsers` <- ClusterLicenseRetrieveResponseLicenseObject$`maximumActiveUsers`
      self$`prepaidDeploymentLimit` <- ClusterLicenseRetrieveResponseLicenseObject$`prepaidDeploymentLimit`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
