# Copyright 2021 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.28.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech

#' @docType class
#' @title BatchPredictionJobUpdate
#'
#' @description BatchPredictionJobUpdate Class
#'
#' @format An \code{R6Class} generator object
#'
#' @field aborted  character [optional] Time when job abortion happened
#'
#' @field completed  character [optional] Time when job completed scoring
#'
#' @field failedRows  integer [optional] Number of rows that have failed scoring
#'
#' @field hidden  character [optional] Hides or unhides the job from the job list
#'
#' @field jobIntakeSize  integer [optional] Number of bytes in the intake dataset for this job
#'
#' @field jobOutputSize  integer [optional] Number of bytes in the output dataset for this job
#'
#' @field logs  list( character ) [optional] The job log.
#'
#' @field scoredRows  integer [optional] Number of rows that have been successfully scored
#'
#' @field skippedRows  integer [optional] Number of rows that have been skipped during scoring. May contain non-zero value only in time-series predictions case if provided dataset contains more than required historical rows.
#'
#' @field started  character [optional] Time when job scoring begin
#'
#' @field status  character [optional] The current job status
#'
#' @importFrom R6 R6Class
#' @importFrom jsonlite fromJSON toJSON
#' @export
BatchPredictionJobUpdate <- R6::R6Class(
  "BatchPredictionJobUpdate",
  lock_objects = FALSE,
  private = list(
    # @description A helper function to handle assist with type validation. This function will validate class parameters with definite
    # types assigned to them, as well as handling validation of parameters with anyOf and oneOf types listed. These types
    # can themselves be other R6 objects.
    validateProps = function(aborted = NULL, completed = NULL, failedRows = NULL, hidden = NULL, jobIntakeSize = NULL, jobOutputSize = NULL, logs = NULL, scoredRows = NULL, skippedRows = NULL, started = NULL, status = NULL) {
      if (!is.null(`aborted`)) {
        stopifnot(inherits(`aborted`, "POSIXt"))
      }
      if (!is.null(`completed`)) {
        stopifnot(inherits(`completed`, "POSIXt"))
      }
      if (!is.null(`failedRows`)) {
        stopifnot(is.numeric(`failedRows`), length(`failedRows`) == 1)
      }
      if (!is.null(`hidden`)) {
        stopifnot(is.logical(`hidden`), length(`hidden`) == 1)
      }
      if (!is.null(`jobIntakeSize`)) {
        stopifnot(is.numeric(`jobIntakeSize`), length(`jobIntakeSize`) == 1)
      }
      if (!is.null(`jobOutputSize`)) {
        stopifnot(is.numeric(`jobOutputSize`), length(`jobOutputSize`) == 1)
      }
      if (!is.null(`logs`)) {
        stopifnot(is.vector(`logs`))
      }
      if (!is.null(`scoredRows`)) {
        stopifnot(is.numeric(`scoredRows`), length(`scoredRows`) == 1)
      }
      if (!is.null(`skippedRows`)) {
        stopifnot(is.numeric(`skippedRows`), length(`skippedRows`) == 1)
      }
      if (!is.null(`started`)) {
        stopifnot(inherits(`started`, "POSIXt"))
      }
      if (!is.null(`status`)) {
        stopifnot(is.character(`status`), length(`status`) == 1)
      }
    }
  ),
  public = list(
    `aborted` = NULL,
    `completed` = NULL,
    `failedRows` = NULL,
    `hidden` = NULL,
    `jobIntakeSize` = NULL,
    `jobOutputSize` = NULL,
    `logs` = NULL,
    `scoredRows` = NULL,
    `skippedRows` = NULL,
    `started` = NULL,
    `status` = NULL,
    #' @description A function used to initialize an instance of this class.
    #' @param aborted Time when job abortion happened
    #' @param completed Time when job completed scoring
    #' @param failedRows Number of rows that have failed scoring
    #' @param hidden Hides or unhides the job from the job list
    #' @param jobIntakeSize Number of bytes in the intake dataset for this job
    #' @param jobOutputSize Number of bytes in the output dataset for this job
    #' @param logs The job log.
    #' @param scoredRows Number of rows that have been successfully scored
    #' @param skippedRows Number of rows that have been skipped during scoring. May contain non-zero value only in time-series predictions case if provided dataset contains more than required historical rows.
    #' @param started Time when job scoring begin
    #' @param status The current job status
    #' @param validateParams An optional param for auto validating this object's parameters before initialization. Default FALSE.
    #' @param ... Any additional keyword arguments to be passed into this object for initialization.
    initialize = function(`aborted` = NULL, `completed` = NULL, `failedRows` = NULL, `hidden` = NULL, `jobIntakeSize` = NULL, `jobOutputSize` = NULL, `logs` = NULL, `scoredRows` = NULL, `skippedRows` = NULL, `started` = NULL, `status` = NULL, validateParams = FALSE, ...) {
      local.optional.var <- list(...)
      requiredProps <- list()
      if (validateParams) {
        lapply(requiredProps, missing)
        private$validateProps(aborted, completed, failedRows, hidden, jobIntakeSize, jobOutputSize, logs, scoredRows, skippedRows, started, status)
      }
      self$`aborted` <- `aborted`
      self$`completed` <- `completed`
      self$`failedRows` <- `failedRows`
      self$`hidden` <- `hidden`
      self$`jobIntakeSize` <- `jobIntakeSize`
      self$`jobOutputSize` <- `jobOutputSize`
      sapply(`logs`, function(x) stopifnot(is.character(x)))
      self$`scoredRows` <- `scoredRows`
      self$`skippedRows` <- `skippedRows`
      self$`started` <- `started`
      self$`status` <- `status`
    },
    #' @description A helper function that provides public access to the private validateProps function. This allows users the ability
    #' to programmatically validate objects before sending them to DataRobot.
    validate = function() {
      props <- list(aborted = self$`aborted`, completed = self$`completed`, failedRows = self$`failedRows`, hidden = self$`hidden`, jobIntakeSize = self$`jobIntakeSize`, jobOutputSize = self$`jobOutputSize`, logs = self$`logs`, scoredRows = self$`scoredRows`, skippedRows = self$`skippedRows`, started = self$`started`, status = self$`status`)
      do.call(private$validateProps, props)
    },
    #' @description A helper function that serializes this object into a JSON encoded string.
    toJSON = function() {
      jsoncontent <- c(
        if (!is.null(self$`aborted`)) {
          sprintf(
            '"aborted":
            "%s"
                  ',
            format(self$`aborted`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`completed`)) {
          sprintf(
            '"completed":
            "%s"
                  ',
            format(self$`completed`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`failedRows`)) {
          sprintf(
            '"failedRows":
            %d
                  ',
            self$`failedRows`
          )
        },
        if (!is.null(self$`hidden`)) {
          sprintf(
            '"hidden":
            %s
                  ',
            tolower(self$`hidden`)
          )
        },
        if (!is.null(self$`jobIntakeSize`)) {
          sprintf(
            '"jobIntakeSize":
            %d
                  ',
            self$`jobIntakeSize`
          )
        },
        if (!is.null(self$`jobOutputSize`)) {
          sprintf(
            '"jobOutputSize":
            %d
                  ',
            self$`jobOutputSize`
          )
        },
        if (!is.null(self$`logs`)) {
          sprintf(
            '"logs":
              [%s]
            ',
            paste(unlist(lapply(self$`logs`, function(x) paste0('"', x, '"'))), collapse = ",")
          )
        },
        if (!is.null(self$`scoredRows`)) {
          sprintf(
            '"scoredRows":
            %d
                  ',
            self$`scoredRows`
          )
        },
        if (!is.null(self$`skippedRows`)) {
          sprintf(
            '"skippedRows":
            %d
                  ',
            self$`skippedRows`
          )
        },
        if (!is.null(self$`started`)) {
          sprintf(
            '"started":
            "%s"
                  ',
            format(self$`started`, format = "%Y-%m-%dT%H:%M:%OSZ", tz = "UTC")
          )
        },
        if (!is.null(self$`status`)) {
          sprintf(
            '"status":
            "%s"
                  ',
            self$`status`
          )
        }
      )
      jsoncontent <- paste(jsoncontent, collapse = ",")
      paste("{", jsoncontent, "}", sep = "")
    },
    #' @description A helper function that deserializes a JSON string into an instance of this class.
    #' @param BatchPredictionJobUpdateJson A JSON encoded string representation of a class instance.
    #' @param validateParams An optional param for auto validating this object's parameters after deserialization. Default FALSE.
    fromJSON = function(BatchPredictionJobUpdateJson, validateParams = FALSE) {
      BatchPredictionJobUpdateObject <- jsonlite::fromJSON(BatchPredictionJobUpdateJson)
      self$`aborted` <- ParseRFC3339Timestamp(BatchPredictionJobUpdateObject$`aborted`)
      self$`completed` <- ParseRFC3339Timestamp(BatchPredictionJobUpdateObject$`completed`)
      self$`failedRows` <- BatchPredictionJobUpdateObject$`failedRows`
      self$`hidden` <- BatchPredictionJobUpdateObject$`hidden`
      self$`jobIntakeSize` <- BatchPredictionJobUpdateObject$`jobIntakeSize`
      self$`jobOutputSize` <- BatchPredictionJobUpdateObject$`jobOutputSize`
      self$`logs` <- ApiClient$new()$deserializeObj(BatchPredictionJobUpdateObject$`logs`, "array[character]", loadNamespace("datarobot.apicore"))
      self$`scoredRows` <- BatchPredictionJobUpdateObject$`scoredRows`
      self$`skippedRows` <- BatchPredictionJobUpdateObject$`skippedRows`
      self$`started` <- ParseRFC3339Timestamp(BatchPredictionJobUpdateObject$`started`)
      self$`status` <- BatchPredictionJobUpdateObject$`status`

      if (validateParams) {
        self$validate()
      }

      return(self)
    }
  )
)
