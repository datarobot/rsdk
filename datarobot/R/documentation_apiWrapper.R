# Copyright 2021-2022 DataRobot, Inc. and its affiliates.
#
# All rights reserved.
#
# DataRobot, Inc.
#
# This is proprietary source code of DataRobot, Inc. and its
# affiliates.

# Public API
#
# DataRobot's Public facing API
#
# The version of the OpenAPI document: 2.29.0
# Contact: api-maintainer@datarobot.com
# Generated by: https://openapi-generator.tech


# NOTE: This file is auto generated by OpenAPI Generator (https://openapi-generator.tech).
# Do not edit the file manually.

# API Wrapper methods for Documentation
# To use these methods without modification, DR endpoint and token
# should be set as environment variables. This will automatically
# happen when you call `datarobot::ConnectToDataRobot()`.



#' ListAutomatedDocumentOptions
#'
#' List all available document types and locales.
#'
#' Check which document types and locales are available for generation with your account.
#' @details This method invokes `GET /automatedDocumentOptions/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method AutomatedDocumentOptionsList in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
ListAutomatedDocumentOptions <- function(...) {
  return(datarobot.apicore::DocumentationApi$new()$AutomatedDocumentOptionsList(...))
}

#' CreateAutomatedDocuments
#'
#' Request generation of automated document
#'
#' Request generation of an automated document that's available for your account. Below is an example request body to generate Model Compliance documentation:  ``` json {     \"documentType\": \"MODEL_COMPLIANCE\",     \"entityId\": \"507f191e810c19729de860ea\",     \"outputFormat\": \"docx\" } ```  For Autopilot Summary, set a corresponding document type, `AUTOPILOT_SUMMARY`, and assign a needed project ID to the `entityId` value.  After the request is sent, the jobs needed for document generation are queued. You can see the status of the generation by polling the URL in the `Location` headers. After the generation is complete, the status URL will automatically redirect you to the resource location to download the document.
#' @details This method invokes `POST /automatedDocuments/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method AutomatedDocumentsCreate in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
CreateAutomatedDocuments <- function(documentTypeSpecificParameters, documentType, entityId, templateId, locale, outputFormat, ...) {
  automatedDocCreate <- datarobot.apicore::AutomatedDocCreate$new(documentTypeSpecificParameters = documentTypeSpecificParameters, documentType = documentType, entityId = entityId, templateId = templateId, locale = locale, outputFormat = outputFormat, validateParams = TRUE)
  return(datarobot.apicore::DocumentationApi$new()$AutomatedDocumentsCreate(automatedDocCreate = automatedDocCreate, ...))
}

#' DeleteAutomatedDocuments
#'
#' Delete automated document.
#'
#' Delete a document using its ID. Example request:  > ``` text > DELETE https://app.datarobot.com/api/v2/automatedDocuments/5ec4ea7e41054c158c5b002f/ HTTP/1.1 > Authorization: Bearer DnwzBUSTOtKBO5Sp1hoUByG4YgZwCCw4 > ```
#' @details This method invokes `DELETE /automatedDocuments/{documentId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method AutomatedDocumentsDelete in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
DeleteAutomatedDocuments <- function(documentId, ...) {
  return(datarobot.apicore::DocumentationApi$new()$AutomatedDocumentsDelete(documentId = documentId, ...))
}

#' ListAutomatedDocuments
#'
#' List all generated documents.
#'
#' Get information about all previously generated documents available for your account. The information includes document ID and type, ID of the entity it was generated for, time of creation, and other information.  Example request to get a list of all documents:  ``` text GET https://app.datarobot.com/api/v2/automatedDocuments/ HTTP/1.1 Authorization: Bearer DnwzBUSTOtKBO5Sp1hoUByG4YgZwCCw4 ```  Query for specific documents. For example, request a list of documents generated for a specific model in `docx` and `html` formats:  ``` text GET https://app.datarobot.com/api/v2/automatedDocuments?entityId= 5ec4ea7e41054c158c5b002f&outputFormat=docx&outputFormat=html HTTP/1.1 Authorization: Bearer DnwzBUSTOtKBO5Sp1hoUByG4YgZwCCw4 ```  In response body, you will get a page with queried documents. This is an example response with one document returned:  ``` json {     \"totalCount\": 1,     \"count\": 1,     \"previous\": null,     \"next\": null,     \"data\": [         {             \"id\": \"5ebdb5e911a5fb85edff2b3c\",             \"documentType\": \"MODEL_COMPLIANCE\",             \"entityId\": \"5ebbb5e7d9d7b96e3d48e3b5\",             \"templateId\": \"5bd812e5f750edd392fa880f\",             \"locale\": \"EN_US\",             \"outputFormat\": \"DOCX\",             \"createdAt\": \"2019-11-07T11:12:13.141516Z\"         }     ] } ```  If there are no matching documents, you will get a page with an empty data array.
#' @details This method invokes `GET /automatedDocuments/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method AutomatedDocumentsList in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
ListAutomatedDocuments <- function(documentType = NULL, entityId = NULL, locale = NULL, outputFormat = NULL, offset = 0, limit = 100, ...) {
  return(datarobot.apicore::DocumentationApi$new()$AutomatedDocumentsList(offset = offset, documentType = documentType, limit = limit, entityId = entityId, locale = locale, outputFormat = outputFormat, ...))
}

#' RetrieveAutomatedDocuments
#'
#' Download generated document.
#'
#' Download a generated Automated Documentation file.  ``` text GET https://app.datarobot.com/api/v2/automatedDocuments/5ec4ea7e41054c158c5b002f/ HTTP/1.1 Authorization: Bearer DnwzBUSTOtKBO5Sp1hoUByG4YgZwCCw4 ```  In response, you will get a file containing the generated documentation.
#'
#' @param documentId character. The ID of the automated documentation to download
#' @param filename character. Filename of file to save the automated documentation to.
#' @return Nothing returned, but downloads the file to the stated filename.
#' @examples
#' \dontrun{
#' documentId <- "5ec4ea7e41054c158c5b002f"
#' RetrieveAutomatedDocuments(documentId, filename = "documentation.docx")
#' }
#' @export
#' @md
RetrieveAutomatedDocuments <- function(documentId, filename, ...) {
  routeString <- UrlJoin("automatedDocuments", documentId)
  DataRobotGET(routeString, as = "file", filename = filename)
  invisible(NULL)
}

#' UploadComplianceDocTemplate
#'
#' Create a new compliance documentation template
#'
#' Create a new compliance documentation template. One can retrieve the default DataRobot template via `GET /api/v2/complianceDocTemplates/default/` endpoint.
#' @details This method invokes `POST /complianceDocTemplates/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesCreate in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
UploadComplianceDocTemplate <- function(name, filename = NULL, sections = NULL, ...) {
  if (is.null(sections) && is.null(filename)) {
    stop("Must define template with either `filename` or `sections`.")
  }
  if (is.null(sections) && !is.null(filename)) {
    templateData <- jsonlite::fromJSON(filename, simplifyDataFrame = FALSE)
    sections <- templateData$sections
  }
  body <- list(name = name, sections = sections)
  # start of generated addition
  # end of generated addition
  DataRobotPOST("complianceDocTemplates", body = body, encode = "json")
  invisible(NULL)
}

#' ListComplianceDocTemplatesDefault
#'
#' Retrieve the default documentation template
#'
#' Retrieve the default documentation template.
#' @details This method invokes `GET /complianceDocTemplates/default/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesDefaultList in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
ListComplianceDocTemplatesDefault <- function(type = "normal", ...) {
  return(datarobot.apicore::DocumentationApi$new()$ComplianceDocTemplatesDefaultList(type = type, ...))
}

#' DeleteComplianceDocTemplate
#'
#' Delete a compliance documentation template
#'
#' Delete a compliance documentation template. Documentation previously generated using this template will remain unchanged.
#' @details This method invokes `DELETE /complianceDocTemplates/{templateId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesDelete in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
DeleteComplianceDocTemplate <- function(templateId, ...) {
  if (is(templateId, "dataRobotComplianceDocTemplate")) {
    templateId <- templateId$id
  }
  routeString <- GetComplianceDocTemplateRoute(templateId = templateId, type = NULL)
  # start of generated addition
  # end of generated addition
  DataRobotDELETE(routeString)
  invisible(NULL)
}

#' ListComplianceDocTemplates
#'
#' List compliance documentation templates
#'
#' List user's custom-built compliance documentation templates.
#' @details This method invokes `GET /complianceDocTemplates/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesList in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
ListComplianceDocTemplates <- function(namePart = NULL, limit = NULL, offset = NULL, orderBy = "id", labels = NULL, projectType = NULL, ...) {
  query <- list()
  query$namePart <- namePart
  query$limit <- limit
  query$offset <- offset
  # start of generated addition
  query <- get0("query", mode = "list", ifnotfound = list())
  query$orderBy <- orderBy
  query$labels <- labels
  query$projectType <- projectType
  # end of generated addition
  templates <- DataRobotGET("complianceDocTemplates", query = query, simplifyDataFrame = FALSE)
  templates <- GetServerDataInRows(templates)
  templates <- lapply(templates, as.dataRobotComplianceDocTemplate)
  class(templates) <- c("listOfComplianceDocTemplates", "listSubclass")
  templates
}

#' UpdateComplianceDocTemplate
#'
#' Update an existing model compliance documentation template
#'
#' Update an existing model compliance documentation template with the given `templateId`. The template must be accessible by the user. If the `templateId` is not found for the user, the update cannot be performed. For a description of the template `sections` object options, see the sample `sections` on the schema below.
#' @details This method invokes `PATCH /complianceDocTemplates/{templateId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesPatch in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
UpdateComplianceDocTemplate <- function(templateId, name = NULL, sections = NULL, ...) {
  if (is(templateId, "dataRobotComplianceDocTemplate")) {
    templateId <- templateId$id
  }
  routeString <- GetComplianceDocTemplateRoute(templateId = templateId, type = NULL)
  body <- list()
  body$name <- name
  body$sections <- sections
  # start of generated addition
  # end of generated addition
  DataRobotPATCH(routeString, body = body, encode = "json")
  GetComplianceDocTemplate(templateId)
}

#' GetComplianceDocTemplate
#'
#' Retrieve a documentation template
#'
#' Retrieve a JSON representation of a custom Compliance Documentation template.
#' @details This method invokes `GET /complianceDocTemplates/{templateId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesRetrieve in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
GetComplianceDocTemplate <- function(templateId = NULL, type = NULL, ...) {
  if (is(templateId, "dataRobotComplianceDocTemplate")) {
    templateId <- templateId$id
  }
  routeString <- GetComplianceDocTemplateRoute(templateId = templateId, type = type)
  query <- GetComplianceDocTemplateQuery(type)
  # start of generated addition
  # end of generated addition
  template <- DataRobotGET(routeString, query = query, simplifyDataFrame = FALSE)
  if (is.null(template$name)) {
    template$name <- "Default"
  }
  as.dataRobotComplianceDocTemplate(template)
}

#' ListComplianceDocTemplatesSharedRoles
#'
#' Get template's access control list
#'
#' Get a list of users, groups and organizations who have access to this template and their roles on the template.
#' @details This method invokes `GET /complianceDocTemplates/{templateId}/sharedRoles/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesSharedRolesList in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
ListComplianceDocTemplatesSharedRoles <- function(shareRecipientType, name, id, templateId, offset = 0, limit = 10, ...) {
  return(datarobot.apicore::DocumentationApi$new()$ComplianceDocTemplatesSharedRolesList(shareRecipientType = shareRecipientType, offset = offset, name = name, limit = limit, id = id, templateId = templateId, ...))
}

#' PatchManyComplianceDocTemplatesSharedRoles
#'
#' Update template's access controls
#'
#' Set roles for users on this template.
#' @details This method invokes `PATCH /complianceDocTemplates/{templateId}/sharedRoles/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ComplianceDocTemplatesSharedRolesPatchMany in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
PatchManyComplianceDocTemplatesSharedRoles <- function(roles, templateId, operation, ...) {
  sharedRolesUpdate <- datarobot.apicore::SharedRolesUpdate$new(roles = roles, operation = operation, validateParams = TRUE)
  return(datarobot.apicore::DocumentationApi$new()$ComplianceDocTemplatesSharedRolesPatchMany(sharedRolesUpdate = sharedRolesUpdate, templateId = templateId, ...))
}

#' CreateOneModelComplianceDocsInitializations
#'
#' Initialize compliance documentation pre-processing for the model
#'
#' Initialize compliance documentation pre-processing for the current model. This route must be called before generating documentation for a custom model.
#' @details This method invokes `POST /modelComplianceDocsInitializations/{entityId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ModelComplianceDocsInitializationsCreateOne in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
CreateOneModelComplianceDocsInitializations <- function(entityId, body, ...) {
  return(datarobot.apicore::DocumentationApi$new()$ModelComplianceDocsInitializationsCreateOne(entityId = entityId, body = body, ...))
}

#' RetrieveModelComplianceDocsInitializations
#'
#' Check if compliance documentation pre-processing is initialized for the model
#'
#' Check if compliance documentation pre-processing is initialized for the current model. This is only required for custom models.
#' @details This method invokes `GET /modelComplianceDocsInitializations/{entityId}/` in the DataRobot Public API.
#'
#' @param ... Additional keyword arguments to be passed on to the `datarobot.apicore` and `httr` libraries.
#'
#' @seealso The method ModelComplianceDocsInitializationsRetrieve in [datarobot.apicore::DocumentationApi], which invokes the same underlying API endpoint.
#' @export
#' @md
RetrieveModelComplianceDocsInitializations <- function(entityId, ...) {
  return(datarobot.apicore::DocumentationApi$new()$ModelComplianceDocsInitializationsRetrieve(entityId = entityId, ...))
}
